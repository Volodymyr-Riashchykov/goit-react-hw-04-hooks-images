(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{15:function(e,t,n){e.exports={button:"Button_button__1lAnQ",icon:"Button_icon__1p7AX"}},16:function(e,t,n){e.exports={item:"GalleryItem_item__3b7WF",img:"GalleryItem_img__1o6gS"}},17:function(e,t,n){e.exports={overlay:"Modal_overlay__3myKI",modal:"Modal_modal__1TwHk"}},28:function(e,t,n){e.exports={button:"App_button__3vI3f"}},30:function(e,t,n){e.exports={list:"Gallery_list__1irSh"}},32:function(e,t,n){e.exports={wrapper:"Spinner_wrapper__3c_RO"}},37:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var r,a,c=n(0),o=n.n(c),i=n(6),s=n.n(i),l=(n(37),n(7)),u=n.n(l),b=n(18),p=n(13),j=n(4),m=n(9),f=n.n(m),h=["title","titleId"];function d(){return d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}function O(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function g(e,t){var n=e.title,o=e.titleId,i=O(e,h);return c.createElement("svg",d({width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":o},i),n?c.createElement("title",{id:o},n):null,r||(r=c.createElement("path",{d:"M5.5 9.5C7.70914 9.5 9.5 7.70914 9.5 5.5C9.5 3.29086 7.70914 1.5 5.5 1.5C3.29086 1.5 1.5 3.29086 1.5 5.5C1.5 7.70914 3.29086 9.5 5.5 9.5Z",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"})),a||(a=c.createElement("path",{d:"M10.5 10.5002L8.32495 8.3252",stroke:"white",strokeLinecap:"round",strokeLinejoin:"round"})))}var x=c.forwardRef(g),v=(n.p,n(15)),_=n.n(v),w=n(1);function y(){return Object(w.jsx)("button",{type:"submit",className:_.a.button,children:Object(w.jsx)(x,{width:"30",height:"30",className:_.a.icon})})}var k=n(5);n(19);function S(e){var t=e.searh,n=Object(c.useState)(null),r=Object(j.a)(n,2),a=r[0],o=r[1],i=Object(c.useState)(""),s=Object(j.a)(i,2),l=s[0],u=s[1];return Object(w.jsx)("header",{className:f.a.header,children:Object(w.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==l.trim()?(t(l),u(""),a&&o(null)):o(k.b.error("\u041f\u0443\u0441\u0442\u0430\u044f \u0441\u0442\u0440\u043e\u043a\u0430"))},className:f.a.form,children:[Object(w.jsx)(y,{}),Object(w.jsx)("label",{className:f.a.label,children:Object(w.jsx)("input",{className:f.a.input,type:"text",placeholder:"Search images and photos",value:l,onChange:function(e){u(e.currentTarget.value.toLowerCase())}})}),Object(w.jsx)(k.a,{})]})})}var C=n(28),E=n.n(C),L=n(29),N=n.n(L);function I(e,t){return F.apply(this,arguments)}function F(){return(F=Object(p.a)(u.a.mark((function e(t,n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://pixabay.com/api/","23111484-b23ce212a3b9e3a1a0d03b7eb",e.prev=2,e.next=5,N.a.get("".concat("https://pixabay.com/api/","?image_type=photo&orientation=horizontal&q=").concat(t,"&page=").concat(n,"&per_page=12&key=").concat("23111484-b23ce212a3b9e3a1a0d03b7eb"));case 5:return e.next=7,e.sent.data.hits;case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t0=e.catch(2),console.log("error");case 13:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}var T=n(16),G=n.n(T);function R(e){var t=e.image,n=e.onClickGal,r=t.webformatURL,a=t.largeImageURL,c=t.tags;return Object(w.jsx)("li",{className:G.a.item,children:Object(w.jsx)("img",{src:r,alt:c,className:G.a.img,"data-source":a,onClick:function(){return n({largeImageURL:a})}})})}var B=n(30),M=n.n(B);function P(e){var t=e.images,n=e.onClickGal;return Object(w.jsx)("ul",{className:M.a.list,children:t.map((function(e,t){return Object(w.jsx)(R,{image:e,onClickGal:n},t)}))})}var U=n(17),A=n.n(U),J=A.a.overlay,q=A.a.modal,z=document.querySelector("#modal-root");function D(e){var t=e.onClose,n=e.children;Object(c.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return Object(i.createPortal)(Object(w.jsx)("div",{className:J,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(w.jsx)("div",{className:q,children:n})}),z)}n(58);var H=n(31),W=n.n(H),Y=n(32),K=n.n(Y),Q=function(){return Object(w.jsx)("div",{className:K.a.wrapper,children:Object(w.jsx)(W.a,{type:"ThreeDots",color:"#00BFFF",height:80,width:80})})};function X(){var e=Object(c.useState)(""),t=Object(j.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(1),o=Object(j.a)(a,2),i=o[0],s=o[1],l=Object(c.useState)(!1),m=Object(j.a)(l,2),f=m[0],h=m[1],d=Object(c.useState)(""),O=Object(j.a)(d,2),g=O[0],x=O[1],v=Object(c.useState)([]),_=Object(j.a)(v,2),y=_[0],C=_[1],L=Object(c.useState)(!1),N=Object(j.a)(L,2),F=N[0],T=N[1];Object(c.useEffect)((function(e){function t(){return(t=Object(p.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=3;break}return e.abrupt("return");case 3:return T(!0),e.next=6,I(n,i);case 6:t=e.sent,C((function(e){return[].concat(Object(b.a)(e),Object(b.a)(t))})),t.length>0?T(!1):k.b.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u0443\u044e \u0441\u0442\u0440\u043e\u043a\u0443 \u043f\u043e\u0438\u0441\u043a\u0430"),i>1&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),k.b.error("Woops, something went wrong... Try again later.");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[n,i]);var G=y.length>0&&!F;return Object(w.jsxs)(w.Fragment,{children:[Object(w.jsx)(S,{searh:function(e){e!==n?(C([]),r(e),s(1)):k.b.error("\u0421\u0442\u0440\u043e\u043a\u0430 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442 \u0441 \u0440\u0430\u043d\u0435\u0435 \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u043e\u0439")}}),y.length>0&&Object(w.jsx)(P,{images:y,onClickGal:function(e){h(!0),x(e.largeImageURL)}}),G&&Object(w.jsx)("button",{type:"button",className:E.a.button,onClick:function(){s((function(e){return e+1}))},children:"Load more"}),F&&Object(w.jsx)(Q,{}),f&&Object(w.jsx)(D,{onClose:function(){h(!f)},children:Object(w.jsx)("img",{src:g,alt:""})}),Object(w.jsx)(k.a,{})]})}s.a.render(Object(w.jsx)(o.a.StrictMode,{children:Object(w.jsx)(X,{})}),document.getElementById("root"))},9:function(e,t,n){e.exports={header:"Form_header__3YETz",form:"Form_form__2fCYl",input:"Form_input__24JkT"}}},[[79,1,2]]]);
//# sourceMappingURL=main.c3a7bdd2.chunk.js.map